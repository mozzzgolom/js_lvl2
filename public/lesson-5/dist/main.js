(()=>{"use strict";class t{constructor({name:t,price:e,img:s},n){this._name=t,this._price=e,this._img=s,this._CartInstane=n}addToCart(){this._CartInstane.add({name:this._name,price:this._price,quantity:1})}render(){const t=document.querySelector(".goods-list");if(t){const e=document.createElement("div");e.classList.add("card"),e.innerHTML=`\n          <img src="${this._img}" />\n          Товар: ${this._name} = ${this._price}\n          \n        `,new Button("Добавить в корзину",this.addToCart.bind(this)).render(e),t.appendChild(e)}}}class e{constructor(e){this.fetchGoods().then((t=>t.json())).then((s=>{this.preloading=!1;const n=s.data.map((s=>new t(s,e)));return this._items=n,this._items})).then(this.render.bind(this))}fetchGoods(){return this.preloading=!0,fetch("http://localhost:4000/database/items.json")}render(){this._items.forEach((t=>{t.render()}))}}e.instanceCount=0,new e(CartInstanse)})();